{"version":3,"file":"drag-drop.esm.mjs","sources":["../node_modules/ask-for-promise/dist/ask-for-promise.esm.mjs","../node_modules/@peter.naydenov/walk/dist/walk.esm.mjs","../node_modules/dt-toolbox/dist/dtbox.esm.mjs","../node_modules/@peter.naydenov/dt-queries/dist/dt-queries.esm.mjs","../node_modules/@peter.naydenov/fsm/dist/fsm.esm.mjs","../src/fn/onEvent.js","../src/fn/index.js","../src/fn/minMax.js","../src/fn/updateSelection.js","../src/fn/drawSelection.js","../src/fn/targetList.js","../src/fn/findDropZone.js","../src/hooks/index.js","../src/hooks/onDrop.js","../src/hooks/onStartDragging.js","../src/hooks/onDropOut.js","../src/logic.js","../src/transitions/index.js","../src/transitions/start.js","../src/transitions/startSelection.js","../src/transitions/changeSelection.js","../src/transitions/endSelection.js","../src/transitions/addSingleItem.js","../src/transitions/removeSingleItem.js","../src/transitions/replaceSelection.js","../src/transitions/startDragging.js","../src/transitions/changeDragZone.js","../src/transitions/endDragging.js","../src/transitions/drop.js","../src/transitions/destory.js","../src/transitions/setConfig.js","../src/transitions/disable.js","../src/transitions/enable.js","../src/main.js"],"sourcesContent":["function e(e){let o,r=!1;return e?(o=function(e){let o=e.map((e=>n())),r=o.map((e=>e.promise));return o.promises=r,o.onComplete=t(Promise.all(r)),o}(e),r=!0):o=n(),o.timeout=function(e,n){let o;o=e?Promise.all(n.promises):n.promise;return function(e,r){let i,u=new Promise(((n,t)=>{i=setTimeout((()=>{n(r),Promise.resolve(o)}),e)}));return o.then((()=>clearTimeout(i))),n.onComplete=t(Promise.race([o,u])),n}}(r,o),o}function n(){let e,n;const o=new Promise(((t,o)=>{e=t,n=o}));return{promise:o,done:e,cancel:n,onComplete:t(o)}}function t(e){return function(n){e.then((e=>n(e)))}}e.sequence=function(n,...t){const o=e(),r=[];const i=function*(e){for(const n of e)yield n}(n);return function e(n,...t){n.done?o.done(r):n.value(...t).then((n=>{r.push(n),e(i.next(),...t,n)}))}(i.next(),...t),o},e.all=function(n,...t){const o=e(),r=[],i=n.map(((e,n)=>\"function\"==typeof e?e(...t).then((e=>r[n]=e)):e.then((e=>r[n]=e))));return Promise.all(i).then((()=>o.done(r))),o};export{e as default};\n","function e(e){return null==e||e.nodeType?\"simple\":e instanceof Array?\"array\":\"object\"==typeof e?\"object\":\"simple\"}function r(r,a,n,o,c,...s){let[i,u]=o;Object.keys(r).forEach((l=>{let f=e(r[l]),b=r[l],y=\"array\"===e(a),p=!isNaN(l),k=Symbol(\"ignore___\");if(\"simple\"!==f&&u){if(b=u({value:b,key:l,breadcrumbs:`${c}/${l}`,IGNORE:k},...s),b===k)return;f=e(b)}if(\"simple\"===f){if(!i)return void(a[l]=b);let e=i({value:b,key:l,breadcrumbs:`${c}/${l}`,IGNORE:k},...s);if(e===k)return;const r=function(e,r){return r instanceof Array&&!isNaN(e)}(l,a);r?a.push(e):a[l]=e}if(\"object\"===f){const e={};y&&p?a.push(e):a[l]=e,n.push(t(b,e,n,o,`${c}/${l}`,s))}if(\"array\"===f){const e=[];y&&p?a.push(e):a[l]=e,n.push(t(b,e,n,o,`${c}/${l}`,s))}}))}function*t(e,t,a,n,o,c){yield r(e,t,a,n,o,...c)}function a({data:t,keyCallback:a,objectCallback:n},...o){let c,s=[],i=\"root\",u=[a,n];switch(e(t)){case\"array\":c=[],r(t,c,s,u,i,...o);break;case\"object\":c={},r(t,c,s,u,i,...o);break;case\"simple\":return t}for(const e of s)e.next();return c}export{a as default};\n","import t from\"@peter.naydenov/walk\";function e(t,e){return function(n,r){const{convert:o,isDTO:s,isDTM:c,walk:a}=t();let u,i;s(r)?(u=r.export(),i=r.copy()):c(r)?(u=a({data:r}),i=a({data:r})):([i,,u]=o.from(\"std\").toFlat(t,r),console.warn('A non \"dt-object\" data segment was inserted. Autoconverted to \"dt-object\".'));const l=new RegExp(\"^root/\");u.forEach((t=>{t[0]===t[2]&&(t[0]=n,t[2]=n),t[2]=t[2].replace(l,`${n}/`),t[3].forEach(((e,r)=>t[3][r]=e.replace(l,`${n}/`)))})),e.insert([i,,u])}}function n(t,e){return t=>e.export(t)}function r(t,e){return function(n=\"root\"){const r=e.getCopy(n),{walk:o}=t();return r?o({data:r}):null}}function o(t,e,n){return function(){let r=[],o={};const{convert:s,draft:c,INIT_DATA_TYPES:a,main:{load:u}}=t(),i={set:c.set(r,o),connect:c.connect(o),save:c.save(o),push:c.push(o)},[l,...f]=arguments,{as:p}=l({...n,...i},...f)||{},d=0===r.length?e.export():r,h=!!p&&a.includes(p);let m;return\"dt-object\"===p?u(d):p&&!h?(console.error(`Model '${p}' is unknown data-model.`),null):(m=p?s.to(p,t,d):u(d),e.resetScan(),m)}}function s(t,e,n){return function(){const{main:{load:r},draft:o}=t(),[s,...c]=arguments;let a=[],u={};const i={set:o.set(a,u),connect:o.connect(u),save:o.save(u),push:o.push(u)};return s({...n,...i},...c),e.resetScan(),0===a.length?this:r(a)}}function c(t){return function(e,n){t.setupFilter(e,n)}}function a(t,a){const{flatData:u}=t(),[i,l]=u(t,a),f={insertSegment:e(t,i),export:n(0,i),copy:r(t,i),model:o(t,i,l),query:s(t,i,l),setupFilter:c(i),listSegments:()=>Object.keys(i.getIndexes()).reduce(((t,e)=>(e.includes(\"/\")||t.push(e),t)),[]),index:p};function p(t){if(null==t)return null;let e=i.getLine(t);if(e){let t,[n,r,o,s]=e;return t=r instanceof Array?[...r]:{...r},[n,t,o,[...s]]}return null}return f.extractList=function(t,e,n){return function(r,o){const s=n(\"root\"),{main:{load:c},INIT_DATA_TYPES:a}=t(),u=[...a,\"dt-object\"];let i=!1,l=\"\";if(o&&(o.as||(i=!0,l='Options should be an object and property \"as\" is required'),i||u.includes(o.as)||(i=!0,l=`Invalid option \"as\" value: ${o.as}.`),i))throw new Error(l);return r.map((t=>{let n=e.export(t);return 0===n.length?s[1].hasOwnProperty(t)?s[1][t]:null:n})).map((t=>null==t?null:t instanceof Array?c(t).model((()=>o)):t))}}(t,i,p),f}function u(t,e,n){return function(r){const[o,,s]=r,c=s[0][0],[a,u,i]=t,l=n();a[c]=o,s.forEach((t=>{const[,,n]=t;u[n]=t,i.push(t),l.forEach((n=>e(n,t)))}))}}function i(t){return function(e){const[,n,r]=t;if(e&&!n[e])return[];if(!e){const t=[];return r.forEach((e=>{const[n,r,o,s]=e,c=r instanceof Array?[...r]:{...r};t.push([n,c,o,[...s]])})),t}const o=[];return r.forEach((t=>{const[n,r,s,c]=t,a=new RegExp(`^${e}/`);if(s===e||s.match(a)){let t=n===s?\"root\":n,e=r instanceof Array?[...r]:{...r},u=s.includes(\"/\")?s.replace(a,\"root/\"):\"root\",i=c.map((t=>t.replace(a,\"root/\")));o.push([t,e,u,i])}})),o}}function l(t,e,n,r){return function(o,s){const c=r(),[,,a]=t;if(c.includes(o))return console.error(`Filter name \"${o}\" is already defined`),this;e[o]=s,a.forEach((t=>n(o,t)))}}function f(t){return function(e){const n=t.getIndexes(),r=n[e],o=[];return r?(o.push(r),p(n,o,r[3]),t.setupScanList(o),this):(t.setupScanList([]),this)}}function p(t,e,n){n.forEach((n=>{const r=t[n];r&&(e.push(r),p(t,e,r[3]))}))}function d(t){return function(e){const n=[];return t.getScanList().forEach((t=>{t[0]===e&&n.push(t)})),t.setupScanList(n),this}}function h(t){return function(e){const n=[],r=e instanceof Array?e:[e];return t.getScanList().forEach((t=>{const e=t[0];r.forEach((r=>{e.includes(r)&&n.push(t)}))})),t.setupScanList(n),this}}function m(t){return function(e){t.getScanList().forEach((n=>{const[r,o,s,c]=n,a=o instanceof Array,u=()=>\"$__NEXT__LOOK_\",i=()=>\"$__FINISH__WITH__THE__LOOKING_\";let l=!1;const f=c.map((t=>{let e=t.replace(`${s}/`,\"\");return[r,e]}));if(a)0===o.length?p([]):o.every(((t,n)=>{if(l)return!1;const c=e({value:t,key:n,name:r,flatData:o,breadcrumbs:s,links:f,next:u,finish:i});return\"$__FINISH__WITH__THE__LOOKING_\"===c&&(l=!0),![\"$__FINISH__WITH__THE__LOOKING_\",\"$__NEXT__LOOK_\"].includes(c)}));else{const t=Object.entries(o);0===t.length?p({}):t.every((([t,n])=>{if(l)return!1;const c=e({value:n,key:t,name:r,flatData:o,breadcrumbs:s,links:f,next:u,finish:i});return\"$__FINISH__WITH__THE__LOOKING_\"===c&&(l=!0),![\"$__FINISH__WITH__THE__LOOKING_\",\"$__NEXT__LOOK_\"].includes(c)}))}function p(t){e({value:null,key:null,name:r,flatData:t,breadcrumbs:s,links:f,empty:!0,next:u,finish:i})}t.resetScan()}))}}function b(t){return function(e){const n=[];return t.getScanList().every((t=>t[2]!==e||(n.push(t),!1))),t.setupScanList(n),this}}function _({flatData:t}){return t instanceof Array}function y({name:t,flatData:e}){return!(e instanceof Array)&&!isNaN(t)}function g({flatData:t}){return!(t instanceof Array)}function $({name:t,breadcrumbs:e}){return t===e}function E(t,e){const[n,r,o]=e,s=[n,r,o],c={},a={list:_,listObject:y,object:g,root:$};let p=o;const E=()=>Object.keys(a),j=(t,e)=>{if(a[t]){const[n,o,s,u]=e;if(c[t]||(c[t]=[]),a[t]({name:n,flatData:o,breadcrumbs:s,edges:u})){const e=r[s];c[t].push(e)}}};E().forEach((t=>o.forEach((e=>j(t,e)))));const v={insert:u(s,j,E),export:i(s),getCopy:t=>n[t]?n[t]:null,getIndexes:()=>r,getLine:t=>r[t]?r[t]:null,getFilters:()=>c,getScanList:()=>p,setupScanList:t=>p=t,setupFilter:l(s,a,j,E),resetScan:()=>{p=o}};var O;return[v,{from:f(v),use:(O=v,function(t){const e=O.getFilters()[t];return e&&O.setupScanList(e),this}),get:b(v),find:d(v),like:h(v),look:m(v)}]}var j={toFlat:function(t,e){const n=e instanceof Array?[]:{},{walk:r}=t(),o=[[\"root\",n,\"root\",[]]],s={root:o[0]},c=r({data:e,keyCallback:function({value:t,key:e,breadcrumbs:n}){const r=new RegExp(`/${e}$`),o=n.replace(r,\"\");return s[o][1][e]=t,t},objectCallback:function({value:t,key:e,breadcrumbs:n}){const r=t instanceof Array?[]:{},c=e,a=new RegExp(`/${e}$`),u=n.replace(a,\"\"),i=[c,r,n,[]];return s[u][3].push(n),o.push(i),s[n]=o.at(-1),t}});return[{root:c},s,o]},toType:function(t){let e={};return t.reverse().forEach((([t,n,r,o])=>{const s=n instanceof Array?[...n]:{...n};e[r]=s,o.forEach((t=>{if(e[t]){const n=t.replace(`${r}/`,\"\");e[r][n]=e[t]}}))})),e.root}};var v={toFlat:function(t,e){const n=Object.entries(e),{walk:r}=t(),o={},s=[],c={},a={};function u(t){c[t]||(c[t]=\"object\");const e=t.split(\"/\");1!=e.length&&(e.pop(),1!=e.length&&u(e.join(\"/\")))}return n.forEach((([t,e])=>{t.startsWith(\"root\")||(t=`root/${t}`),u(t),function(t,e){Object.keys(e).forEach((e=>{isNaN(e)||(c[t]=\"array\")}))}(t,e),a[t]=e})),Object.entries(c).forEach((([t,e])=>{if(\"object\"===a[t])return;if(a[t]){const n=a[t]instanceof Array;if(\"array\"===e&&!n){const e=Object.values(a[t]);a[t]=e}return}const n=\"object\"===e?{}:[];a[t]=n})),Object.entries(a).sort().forEach((([t,e])=>{const n=t.split(\"/\").pop(),r=t.replace(`/${n}`,\"\"),c=[n,e instanceof Array?[...e]:{...e},t,[]];o[t]=c,s.push(c),\"root\"!==t&&r&&o[r]&&o[r][3].push(t)})),[r({data:e}),o,s]},toType:function(t){const e={};return t.forEach((t=>{const[,n,r]=t;if(0===Object.keys(n).length)return;const o=r.replace(\"root/\",\"\"),s=n instanceof Array?[...n]:{...n};e[o]=s})),e}};var O={toFlat:function(t,e){const{walk:n}=t(),r={},o={root:[]},s=[];function c(t){if(\"root\"===t)return;const e=t.split(\"/\");e.pop();const n=e.join(\"/\");o[n]||(o[n]=[]),n.includes(\"/\")&&c(n)}e.forEach((t=>{const[e,n]=t,r=\"root\"===e?\"root\":`root/${e}`;o[r]?o[r].push(n):o[r]=[n],c(r)}));let a=Object.entries(o).sort();const u={root:\"object\"};return a.forEach((([t,e])=>{if(\"root\"===t)return;const n=t.split(\"/\"),r=n.pop(),o=n.join(\"/\");\"array\"!==u[o]&&!isNaN(r)&&(u[o]=\"array\"),0===e.length&&(u[t]=\"object\")})),a=Object.entries(o).sort(),a.forEach((([t,e])=>{const[n,o,c]=function(t){let e,n,r;if(\"root\"==t)return e=\"root\",n=\"root\",r=null,[e,n,r];const o=t.split(\"/\");return 2===o.length&&(e=\"root\",n=\"root\",r=o.pop()),o.length>2&&(r=o.pop(),e=o.pop(),n=0===o.length?`root/${e}`:`${o.join(\"/\")}/${e}`),[e,n,r]}(t),a=0===e.length,i=1===e.length;let l,f;if(a){if(r[`${o}/${c}`])return;return null==c?(f=\"object\"===u.root?{}:[],l=[\"root\",f,\"root\",[]],r.root=l,void s.push(l)):(f=\"object\"===u[`${o}/${c}`]?{}:[],l=[c,f,`${o}/${c}`,[]],r[`${o}/${c}`]=l,void s.push(l))}if(!i)return l=[c,e,`${o}/${c}`,[]],r[`${o}/${c}`]=l,void s.push(l);if(r[`${o}`])r[o][1][c]=e[0];else{const t={};t[c]=e[0],l=[n,t,o,[]],r[o]=l,s.push(l)}})),s.reverse(),s.forEach((t=>{const[e,n,o]=t,s=o.replace(`/${e}`,\"\"),c=r[s];s!==o&&c&&c[3].push(o)})),s.reverse(),[n({data:e}),r,s]},toType:function(t){let e=[];return t.forEach((t=>{const[n,r,o]=t,s=r instanceof Array;let c=\"\";if(\"root\"!==n&&(c=o.replace(\"root/\",\"\")),s)return void(0==c.length?r.forEach(((t,n)=>e.push([\"root\",t]))):r.forEach((t=>e.push([c,t]))));Object.entries(r).forEach((([t,n])=>{0==c.length?e.push([t,n]):e.push([`${c}/${t}`,n])}))})),e}};const T=t=>(e,n)=>{switch(t){case\"std\":case\"standard\":return j.toFlat(e,n);case\"tuple\":case\"tuples\":return O.toFlat(e,n);case\"breadcrumb\":case\"breadcrumbs\":const t=Object.entries(n);return O.toFlat(e,t);case\"file\":case\"files\":const r=n.map((t=>{let e=t.split(\"/\");1===e.length&&(e=[\"root\"].concat(e));const n=e.pop();return[e.join(\"/\"),n]}));return O.toFlat(e,r);case\"midFlat\":return v.toFlat(e,n)}return[[\"object\",0],{}]};var I={from:function(t){return{toFlat:T(t)}},to:function(t,e,n){const r={},{walk:o}=e(),s=new Set,c=new Set;let a,u=0;switch(t){case\"flat\":case\"dt-model\":return o({data:n});case\"std\":case\"standard\":return j.toType(n);case\"midflat\":case\"midFlat\":return v.toType(n);case\"tuple\":case\"tuples\":return O.toType(n);case\"files\":return a=O.toType(n),a.map((([t,e])=>\"function\"==typeof e?`${t}/function:${e.name}`:e?.nodeType?`${t}/HtmlElement:${e.tagName?e.tagName.toLowerCase():\"notSpecified\"}`:\"root\"===t?e:`${t}/${e}`));case\"breadcrumb\":case\"breadcrumbs\":let t;return a=O.toType(n),a.forEach((([t,e])=>s.has(t)?c.add(t):s.add(t))),a.forEach((([e,n])=>{if(c.has(e)){t!==e&&(t=e,u=0),r[\"root\"===e?u:`${e}/${u}`]=n,u++}else r[e]=n})),r}}};function S(t,e,n){const r=t[e],o=r[2];r[2]=n,t[o]=r,r[3].forEach(((e,r)=>{const s=new RegExp(`^${o}/`),c=e.replace(s,`${n}/`);S(t[e],e,c)}))}var k={push:function(t){return function(e,n){const r=!!t[e]&&t[e][1];return r&&r instanceof Array?(\"object\"==typeof value||r.push(n),this):this}},set:function(t,e){return function(n,r){const o=r instanceof Array,s=[];return s.push(n),o?s.push([...r]):s.push({...r}),s.push(n),s.push([]),t.push(s),e[n]=s,this}},connect:function(t){return function(e){e.forEach((e=>{let n=e.split(\"/\");const r=n.pop(),o=n.pop(),s=t[o];if(!t[r])return this;if(!s)return this;if(s[1][r])return this;let c=`${s[2]}/${r}`;return S(t,r,c),s[3].includes(c)||s[3].push(c),this}))}},save:function(t){return function(e,n,r){const o=!!t[e]&&t[e][1];return o?(o[n]||(o[n]=r),this):this}}};const A=[\"std\",\"standard\",\"tuple\",\"tuples\",\"breadcrumb\",\"breadcrumbs\",\"file\",\"files\",\"midFlat\",\"midflat\",\"flat\",\"dt-model\"],F={dependencies:()=>({walk:t,flatData:E,flatObject:a,convert:I,INIT_DATA_TYPES:A,main:{load:F.load},isDTO:t=>\"function\"==typeof t.insertSegment,isDTM:t=>t instanceof Array&&(t[0]instanceof Array&&(4===t[0].length&&\"root\"===t[0][0])),draft:k}),init(t,e={}){let{model:n}=Object.assign({},{model:\"std\"},e),r=F.dependencies;if(!A.includes(n))return console.error(`Can't understand your data-model: ${n}. Please, find what is possible on https://github.com/PeterNaydenov/dt-toolbox`),null;return a(r,[\"flat\",\"dt-model\"].includes(n)?F.load(t):I.from(n).toFlat(r,t))},load(e){const n={};e.forEach((t=>{const[,,e]=t;n[e]=t}));const r=t({data:e});return a(F.dependencies,[r,n,e])},flating(t,e={}){let{model:n}=Object.assign({},{model:\"std\"},e);if(!A.includes(n))return null;let[,,r]=I.from(\"std\").toFlat(F.dependencies,t);return r},converting(t,e={}){let{model:n,as:r}=Object.assign({},{model:\"std\",as:\"std\"},e);if(!A.includes(n))return null;if(!A.includes(r))return null;let[,,o]=I.from(\"std\").toFlat(F.dependencies,t);return I.to(r,F.dependencies,o)},getWalk:()=>t},{init:w,load:N,flating:L,converting:x,getWalk:D}=F,H={init:w,load:N,flat:L,convert:x,getWalk:D};export{H as default};\n","function e(e,t){const n=[];if(!t.index&&\"function\"!=typeof t.index)return null;e.look((({name:s,flatData:o,breadcrumbs:r,next:c})=>{const a=o instanceof Array,i=t.index(r);let l=null;if(i){const c=i[1];if(a!=c instanceof Array)e.set(s,c);else if(a){c.length===o.length&&c.every(((e,t)=>e===o[t]))?e.set(s,[]):e.set(s,c)}else{const a=Object.entries(o),i={};a.forEach((([s,o])=>{const a=c[s];o!==a&&(i[s]=a),l=t.index(`${r}/${s}`),l&&(e.set(s,l),n.push(`${l[2]}/${l[0]}`),l=null)})),e.set(s,i)}}else a?e.set(s,[]):e.set(s,{});return r.includes(\"/\")&&e.connect([r]),c()}))}function t(e,t,n){t.query((t=>{t.look((({name:t,breadcrumbs:s,flatData:o,next:r})=>{const c=n(s);if(!c)return e.set(t,o),r();const a=o instanceof Array,[,i]=c;if(a!==i instanceof Array)e.set(t,o);else if(a){if(!(o.length===i.length&&o.every(((e,t)=>e===i[t]))))return e.set(t,o),r();const n=[];o.forEach((e=>{i.includes(e)||n.push(e)})),e.set(t,n)}else{const n=Object.entries(o),s={};n.forEach((([e,t])=>{i.hasOwnProperty(e)||(s[e]=t),t!==i[e]&&(s[e]=t)})),e.set(t,s)}return r()})),t.look((({links:t,next:n})=>{const s=t.map((([e,t])=>`${e}/${t}`));return e.connect(s),n()}))}))}function n(e,t){if(!t.index&&\"function\"!=typeof t.index)return null;e.look((({name:n,flatData:s,breadcrumbs:o,next:r})=>{const c=s instanceof Array,a=t.index(o);if(a){const t=a[1];if(c!=t instanceof Array)return r();if(c){const o=[];s.forEach(((e,n)=>{e===t[n]&&o.push(e)})),e.set(n,o)}else{const o=Object.entries(s),r={};o.forEach((([e,n])=>{n==t[e]&&(r[e]=n)})),e.set(n,r)}o.includes(\"/\")&&e.connect([o])}return r()}))}function s(e,t){if(!t.index&&\"function\"!=typeof t.index)return null;e.look((({name:n,flatData:s,breadcrumbs:o,next:r})=>{const c=s instanceof Array,a=t.index(o);if(!a)return e.set(n,s),r();const i=a[1];if(c!=i instanceof Array)e.set(n,s);else if(c){const t=[];s.forEach(((e,n)=>{i.includes(e)||t.push(e)})),e.set(n,t)}else{const t=Object.entries(s),o={};t.forEach((([e,t])=>{null==i[e]&&(o[e]=t)})),e.set(n,o)}return r()})),e.look((({links:t,next:n})=>{const s=t.map((([e,t])=>`${e}/${t}`));return e.connect(s),n()}))}function o(e,t){if(!t.index&&\"function\"!=typeof t.index)return null;e.look((({name:n,flatData:s,breadcrumbs:o,next:r})=>{const c=t.index(o),a=s instanceof Array;if(!c)return e.set(n,a?[]:{}),r();const[,i]=c;if(a!==i instanceof Array)e.set(n,i);else if(a)e.set(n,i);else{const t=Object.entries(s),o={};t.forEach((([e,t])=>{const n=i[e];void 0!==n&&(o[e]=n)})),e.set(n,o)}return r()})),e.look((({links:t,next:n})=>{const s=t.map((([e,t])=>`${e}/${t}`));return e.connect(s),n()}))}function r(e,t,n){const s=[];e.look((({name:t,flatData:n,breadcrumbs:s,next:o})=>(e.set(t,n),s.includes(\"/\")&&e.connect([s]),o()))),t.query((t=>{t.look((({name:t,flatData:o,breadcrumbs:r,next:c})=>{const a=o instanceof Array,i=n(r);if(null==i){e.set(t,o);const n=new RegExp(`/${t}$`),a=r.replace(n,\"\").split(\"/\").pop();return s.push(`${a}/${t}`),c()}const[,l]=i;if(a)o.forEach((n=>{l.includes(n)||e.push(t,n)}));else{Object.entries(o).forEach((([n,s])=>{void 0===l[n]&&e.save(t,n,s)}))}return c()}))})),s.length>0&&e.connect(s)}function c(e,t){e.look((({name:n,flatData:s,breadcrumbs:o,next:r})=>{const c=t.index(o),a=s instanceof Array;if(!c)return e.set(n,s),o.includes(\"/\")&&e.connect([o]),r();const[,i]=c,l=i instanceof Array,f=a?[...s]:[];if(a!=l)e.set(n,i);else if(a){Object.entries(i).forEach((([e,t])=>{f.includes(t)||f.push(t)})),e.set(n,f)}else{const t=Object.entries(s),o={};t.forEach((([e,t])=>{i.hasOwnProperty(e)?o[e]=`${t},${i[e]}`:o[e]=t})),e.set(n,o)}return o.includes(\"/\")&&e.connect([o]),r()}))}function a(e,t){const n=[];e.look((({name:s,flatData:o,breadcrumbs:r,links:c,next:a})=>{let i;const l=o instanceof Array;if(n.push(r),l){let c=[],l=[];if(o.forEach(((s,o)=>{const a=`${r}/${o}`,i=t.index(a);if(i){const t=i[1];t instanceof Array?t.push(s):t.___history=s,e.set(o,t),n.push(a),l.push(a)}else c.push(s)})),i=t.index(r),i){i[1]instanceof Array?(i[1].forEach((e=>{c.includes(e)||c.push(e)})),e.set(s,c)):c.push(i[1])}else{e.set(s,c);let n=r.split(\"/\");n.pop();let o=n.join(\"/\"),a=t.index(o)[1][s];a&&e.push(s,a)}return r.includes(\"/\")&&e.connect([r]),e.connect(l),a()}let f=Object.entries(o),u=Object.keys(o);return e.set(s,{}),r.includes(\"/\")&&e.connect([r]),i=t.index(r),f.forEach((([o,c])=>{const a=`${r}/${o}`,l=t.index(a);if(l){l[1]instanceof Array?(e.set(o,[]),e.push(o,c),l[1].forEach((t=>e.push(o,t)))):(e.set(o,l[1]),e.save(o,\"___history\",c)),e.connect([a])}else{const[,t]=i||[],r=t[o];r?(e.set(o,[c,r]),e.connect([a]),n.push(a)):e.save(s,o,c)}})),t.query((t=>{let n=c.map((([,e])=>e));t.look((({key:t,value:o,breadcrumbs:c,next:a})=>{if(c!==r)return a();n.includes(t)||u.includes(t)||null==t||e.save(s,t,o)}))})),a()})),t.query((t=>{t.look((({name:t,flatData:s,breadcrumbs:o,next:r})=>{if(!n.includes(o))return e.set(t,s),e.connect([o]),r()}))}))}function i(e,t){const n=[];e.look((({name:s,flatData:o,breadcrumbs:r,next:c})=>{const a=t.index(r),i=o instanceof Array;if(n.push(r),!a)return e.set(s,o),r.includes(\"/\")&&e.connect([r]),c();const[,l]=a,f=l instanceof Array,u=i?[...o]:[];if(i){if(f)l.forEach((e=>{u.includes(e)||u.push(e)}));else{Object.entries(l).forEach((([e,t])=>{u.includes(t)||u.push(t)}))}e.set(s,u)}else e.set(s,o);return r.includes(\"/\")&&e.connect([r]),c()})),t.query((t=>{t.look((({name:t,flatData:s,breadcrumbs:o,next:r})=>{if(!n.includes(o)){s instanceof Array&&(e.set(t,s),e.connect([o]))}return r()}))}))}function l(e,t){e.look((({name:n,flatData:s,breadcrumbs:o,next:r})=>{const c=t.index(o),a=s instanceof Array;if(!c)return e.set(n,s),o.includes(\"/\")&&e.connect([o]),r();const[,i]=c;if(a!==i instanceof Array)e.set(n,s);else if(a)e.set(n,i);else{e.set(n,{}),Object.entries(s).forEach((([t,s])=>{i.hasOwnProperty(t)?e.save(n,t,i[t]):e.save(n,t,s)}))}return o.includes(\"/\")&&e.connect([o]),r()}))}function f(e,t){const n=[];e.look((({name:s,flatData:o,breadcrumbs:r,next:c})=>{const a=t.index(r),i=o instanceof Array;if(n.push(r),!a)return e.set(s,o),r.includes(\"/\")&&e.connect([r]),c();const[,l]=a;if(i!==l instanceof Array)e.set(s,l);else if(i)if(\"...\"==l[0]){let t=[...o];l.forEach((e=>{\"...\"!=e&&(t.includes(e)||t.push(e))})),e.set(s,t)}else e.set(s,l);else{let t={...o};Object.entries(l).forEach((([e,n])=>t[e]=n)),e.set(s,t)}return r.includes(\"/\")&&e.connect([r]),c()})),t.query((t=>{t.look((({name:t,flatData:s,breadcrumbs:o,next:r})=>(n.includes(o)||(e.set(t,s),e.connect([o])),r())))}))}function u(e,t){e.look((({name:n,flatData:s,breadcrumbs:o,next:r})=>{const c=t.index(o),a=s instanceof Array;if(!c)return e.set(n,s),o.includes(\"/\")&&e.connect([o]),r();const[,i]=c,l=i instanceof Array,f=a?[...s]:[];if(a!=l)e.set(n,i);else if(a){Object.entries(i).forEach((([e,t])=>{f.includes(t)||f.push(t)})),e.set(n,f)}else{const t=Object.entries(s),o={};t.forEach((([e,t])=>{i.hasOwnProperty(e)?o[e]=`${i[e]},${t}`:o[e]=t})),e.set(n,o)}return o.includes(\"/\")&&e.connect([o]),r()}))}function d(e,t=[]){const n=[];let s;e.use(\"root\").look((({name:e,flatData:t,next:o})=>(n.push(e),\"root\"===e&&(s=t instanceof Array?\"array\":\"object\"),o())));const o=n.filter((e=>t.includes(e))),r=0===o.length,c=1===o.length;r&&(\"array\"===s?e.set(\"root\",[]):e.set(\"root\",{})),o.forEach((t=>{let n=[];e.from(t).look((({name:t,flatData:s,breadcrumbs:o,links:r,next:a})=>{t===o&&c?e.set(\"root\",s):e.set(t,s);const i=c?r.map((([e,t])=>`root/${t}`)):r.map((([e,t])=>`${e}/${t}`));return n=[...n,...i],a()})),e.connect(n)}))}function h(e,t=[]){const n=[];let s;e.use(\"root\").look((({name:e,flatData:o,next:r})=>(t.includes(e)||n.push(e),\"root\"===e&&(s=o instanceof Array?\"array\":\"object\"),r())));const o=0===n.length,r=1===n.length;o&&(\"array\"===s?e.set(\"root\",[]):e.set(\"root\",{})),n.forEach((t=>{let n=[];e.from(t).look((({name:t,flatData:s,breadcrumbs:o,links:c,next:a})=>{t===o&&r?e.set(\"root\",s):e.set(t,s);const i=r?c.map((([e,t])=>`root/${t}`)):c.map((([e,t])=>`${e}/${t}`));return n=[...n,...i],a()})),e.connect(n)}))}function b(e){const t={};e.look((({name:n,flatData:s,breadcrumbs:o,links:r,next:c})=>{if(e.set(n,s),\"root\"===n)return c();if(n===o&&e.connect([`root/${n}`]),r.forEach((([e,n])=>t[n]=[e,n])),t[n]){const[s,o]=t[n];e.connect([`${s}/${o}`])}return c()}))}function m(e){const t={};e.look((({name:n,flatData:s,links:o,next:r})=>{if(o.forEach((([e,n])=>{\"root\"!==e&&(t[n]=[e,n])})),e.set(n,s),t[n]){const[s,o]=t[n];e.connect([`${s}/${o}`])}return r()}))}function y(e,t){const n=t.export(\"root\")[0][1],s=[];let o=null;e.use(\"root\").look((({flatData:e,breadcrumbs:t,next:n})=>\"root\"===t?(o=e,n()):(s.push(t),n()))),o instanceof Array?e.set(\"root\",[]):e.set(\"root\",{}),s.forEach((s=>{let r=!1;const c={};t.query((t=>{t.from(s).look((({name:t,flatData:n,breadcrumbs:s,links:o,next:a})=>{if(r=!0,e.set(t,n),c.hasOwnProperty(s)){const[t,n]=c[s];e.connect([`${t}/${n}`])}return o.forEach((([e,t])=>c[`${s}/${t}`]=[e,t])),a()}))})),!r&&n.hasOwnProperty(s)&&(r=!0,e.save(\"root\",s,o[s])),r||e.from(s).look((({name:t,flatData:n,breadcrumbs:s,links:o,next:r})=>{if(e.set(t,n),c.hasOwnProperty(s)){const[t,n]=c[s];e.connect([`${t}/${n}`])}return o.forEach((([e,t])=>c[`${s}/${t}`]=[e,t])),r()}))})),Object.entries(o).forEach((([s,o])=>{const r={};let c=!1;t.query((t=>{t.from(s).look((({name:t,flatData:n,breadcrumbs:s,links:o,next:a})=>{if(c=!0,e.set(t,n),r.hasOwnProperty(s)){const[t,n]=r[s];e.connect([`${t}/${n}`])}return o.forEach((([e,t])=>r[`${s}/${t}`]=[e,t])),a()}))})),!c&&n.hasOwnProperty(s)&&(c=!0,e.save(\"root\",s,n[s])),c||e.save(\"root\",s,o)}))}export{r as add,c as append,e as change,a as combine,t as different,n as identical,i as insert,b as joinSegments,d as keepSegments,s as missing,f as overwrite,u as prepend,h as removeSegments,o as same,m as splitSegments,l as update,y as updateState};\n","import t from\"ask-for-promise\";import e from\"dt-toolbox\";import{splitSegments as n,joinSegments as a,updateState as o}from\"@peter.naydenov/dt-queries\";const i={_setTransitions:function(){return function(t,e){let n={},a={},o={};return t.forEach((t=>{const[i,s,r,c,u]=t,d=e[c],p=`${i}/${s}`;n[p]=d||null,a[p]=r,function(t){return t instanceof Array&&(2==t.length&&(t.forEach((t=>{if(!1!==t||\"string\"!=typeof t)return!1})),!0))}(u)&&(o[p]=[],o[p][0]=u[0],o[p][1]=u[1])})),{transitions:n,nextState:a,chainActions:o}}},_updateStateData:function(t){return function(e){const{dtbox:n,query:a}=t.dependencies;let o=\"javascriptObject\";return e.export&&(o=\"dt-object\"),e instanceof Array&&e[0][0]===e[0][2]&&e.every((t=>4===t.length))&&(o=\"dt-model\"),\"javascriptObject\"===o&&e instanceof Array?(console.error(\"State update failed. Reason: Received an array. Expectation: Object where top-level property name is the name of the data segment.\"),t.stateData):([\"javascriptObject\"].includes(o)&&(e=n.init(e).export()),[\"javascriptObject\",\"dt-model\"].includes(o)&&(e=n.load(e)),[\"javascriptObject\",\"dt-model\",\"dt-object\"].includes(o)&&(e=e.query(a.splitSegments)),t.stateData.query(a.updateState,e))}},_updateStep:function(t){return function(e,n,a){const{askForPromise:o}=t.dependencies,i=o(),s=`${t.state}/${n}`,r=t.callback;t.lock=!0,t._transit(i,s,a),i.onComplete((n=>{let a=t._getChain(s),o=n.response;if(n.success){if(t.state=t.nextState[s],null!=n.stateData&&(t.stateData=t._updateStateData(n.stateData)),r.positive.forEach((e=>e(t.state,o))),r.transition.forEach((e=>e(t.state,o))),a&&a[0])return void t._updateStep(e,a[0],o)}else if(r.negative.forEach((e=>e(t.state,o))),r.transition.forEach((e=>e(t.state,o))),a&&a[1])return void t._updateStep(e,a[1],o);e.done(o)})),i.promise.catch((()=>console.log(`Failed in step ${s}`)))}},_warn:function(t){return function(t){Object.entries(t).forEach((([t,e])=>{null==e&&console.log(`Warning: Transition for ${t} is not defined`)}))}},_transit:function(t){return function(){const[e,n,...a]=arguments,{state:o,stateData:i,dependencies:s}=t,r=t.transitions[n],c=t.api.extractList;\"function\"==typeof r?r({task:e,state:o,extractList:c,dependencies:s},...a):e.done({success:!1})}},_getChain:function(t){return function(e){const n=t.chainActions;return!!n[e]&&n[e]}},_triggerCacheUpdate:function(t){return function(){if(0!==t.cache.length){const{updateTask:e,action:n,dt:a}=t.cache[0];t.cache=t.cache.reduce(((t,e,n)=>(0!=n&&t.push(e),t)),[]),t._updateStep(e,n,a),e.onComplete((e=>t._onUpdateTask(e)))}}},_onUpdateTask:function(t){return function(e){const n=t.callback,a=t.dependencies.askForPromise(n.update);n.update.forEach(((n,o)=>{n(t.state,e),a[o].done()})),a.onComplete((e=>{t.lock=!1,t._triggerCacheUpdate()}))}},setDependencies:function(t){return function(e){t.dependencies={...t.dependencies,...e}}},getDependencies:function(t){return function(){return t.dependencies}},on:function(t){return function(e,n){const a=t.callback;a[e]&&a[e].push(n)}},off:function(t){return function(e){t.callback[e]&&(t.callback[e]=[])}},importState:function(t){return function({state:e,stateData:n}){const{dtbox:a,query:o}=t.dependencies;if(e&&(t.state=e,n)){const e=a.load(n).query(o.splitSegments);t.stateData=t.stateData.query(o.updateState,e)}}},exportState:function(t){return function(){const{query:e}=t.dependencies;return{state:t.state,stateData:t.stateData.query(e.joinSegments).export()}}},update:function(t){return function(e,n){const{askForPromise:a}=t.dependencies,o=a();return t.lock?(t.cache.push({updateTask:o,action:e,dt:n}),o.promise):(t._updateStep(o,e,n),o.onComplete((e=>t._onUpdateTask(e))),o.promise)}},reset:function(t){return function(){const{dtbox:e}=t.dependencies;t.state=t.initialState,t.stateData=e.load(t.initialStateData.export())}},ignoreCachedUpdates:function(t){return function(){t.cache.forEach((({updateTask:t,action:e,dt:n})=>t.cancel(`Action '${e}' was ignored`))),t.cache=[]}},getState:function(t){return function(){return t.state}},extractList:function(t){return function(e,n=!1){const a=t.dependencies.query;return 0==arguments.length?t.stateData.query(a.joinSegments).model((()=>({as:\"std\"}))):n?t.stateData.extractList(e,n):t.stateData.extractList(e,t.stateDataFormat)}}},s=e.getWalk();function r({init:r,behavior:c,stateData:u={},debug:d,stateDataFormat:p={as:\"std\"}},f={}){const l=this,h={};l.state=r||\"N/A\",l.initialState=r||\"N/A\",l.stateDataFormat=p,l.lock=!1,l.cache=[],l.dependencies={walk:s,dtbox:e,askForPromise:t,query:{splitSegments:n,joinSegments:a,updateState:o}},l.callback={update:[],transition:[],positive:[],negative:[]};for(let t in i)t.startsWith(\"_\")?l[t]=i[t](l):h[t]=i[t](l);l.api=h,l.stateData=e.init(u).query(n),l.initialStateData=e.init(u).query(n);const{transitions:m,nextState:g,chainActions:S}=l._setTransitions(c,f);return d&&(l._warn(m),global.debugFSM=l),l.transitions=m,l.nextState=g,l.chainActions=S,h}r.dependencies={walk:s,dtbox:e,askForPromise:t,query:{splitSegments:n,joinSegments:a,updateState:o}};export{r as default};\n","'use strict'\n// *** \n\nfunction getEventFunctions ( dragDrop, ignoreSelect ) {\n    return {\n          mouseDown: event => {\n                if ( event.target.draggable              )   return\n                if ( ignoreSelect && ignoreSelect(event) )   return\n                dragDrop.update ( 'select', {event})\n            }\n        \n        , mouseUp: event  => {\n                            if ( event.target.draggable ) {\n                                        if      ( event.altKey    )   dragDrop.update ( 'removeItem'  , {event} )\n                                        else if ( event.shiftKey  )   dragDrop.update ( 'addItem'     , {event} )\n                                        else                          dragDrop.update ( 'newSelection', {event} )\n                                        return\n                                }\n                            dragDrop.update ( 'end', {event})\n                    } \n        , mouseMove : event => {\n                            dragDrop.update ( 'move', {event})\n                    }\n\n        , dragStart : event => {\n                            dragDrop.update ( 'drag', {event})\n                    }\n        , dragEnd   : event => {\n                            dragDrop.ignoreCachedUpdates ()\n                            dragDrop.update ( 'end', {event})\n                    }\n        , dragOver  : event => event.preventDefault ()   // Prevent default to allow drop\n        , dragEnter : event => dragDrop.update ( 'move', {event})\n        , drop      : event => dragDrop.update ( 'drop', {event})\n    \n    }} // getEventFunctions func.\n\n\n\nexport default getEventFunctions\n\n\n","import minMax          from './minMax'\nimport updateSelection from './updateSelection'\nimport drawSelection   from './drawSelection'\nimport targetList      from './targetList'\nimport findDropZone     from './findDropZone'\n\nimport getEventFunctions from './onEvent'\n\n\nconst fn = {\n                  minMax\n                , updateSelection\n                , drawSelection\n                , targetList\n                , findDropZone\n\n                , getEventFunctions\n            }\n\n\nexport default fn\n\n\n","function minMax ({startX, startY, newX, newY}) {\n        let\n              xMin = Math.min ( startX, newX )\n            , xMax = Math.max ( startX, newX )\n            , yMin = Math.min ( startY, newY )\n            , yMax = Math.max ( startY, newY )\n            ;\n        return { xMin, xMax, yMin, yMax }\n} // minMax func.\n\n\n\nexport default minMax\n\n\n","function updateSelection ( coordinates, node ) {\n    const { xMin, xMax, yMin, yMax } = coordinates;\n    node.style.left   = `${xMin}px`\n    node.style.top    = `${yMin}px`\n    node.style.width  = `${xMax - xMin}px`\n    node.style.height = `${yMax - yMin}px`\n} // updateSelection func.\n\n\n\nexport default updateSelection\n\n\n","function drawSelection ( event, selectDraw ) {\n        let draw;\n        if ( !selectDraw ) {   // Create a selection block if not exists\n                    draw = document.createElement ( 'div' )\n                    draw.style.position = 'absolute'\n                    draw.style.border = '1px dotted #333'\n                    document.getElementsByTagName ( 'body' )[0].appendChild ( draw )\n            }\n        else {   // Load a selection block\n                    draw = selectDraw\n                    draw.style.visibility = 'visible'\n            }\n        draw.style.left   = `${event.clientX}px`\n        draw.style.top    = `${event.clientY}px`\n        draw.style.width  = '20px'\n        draw.style.height = '20px'\n        return draw\n} // drawSelection func.\n\n\n\nexport default drawSelection\n\n\n","'use strict'\nfunction targetList ( container ) {\n    return function targetList () {\n            let \n                  list = document.querySelectorAll ( '[draggable]' )\n                , selection = []\n                ;\n            list.forEach ( el => {\n                                if ( el.parentNode == container )   selection.push ( el )\n                    })\n            return selection\n    }} // targetList func.\n\n\n\nexport default targetList\n\n\n","function findDropZone ( node, dropStyle ) {\n        if ( typeof node === 'string'           )   return false\n        if ( node === document                  )   return false\n        if ( node.tagName == 'BODY'             )   return false\n        if ( node.classList.contains(dropStyle) )   return node\n        return findDropZone ( node.parentNode, dropStyle )\n} // findDropZone func.\n\n\n\nexport default findDropZone\n\n\n","import onDrop          from './onDrop'\nimport onStartDragging from './onStartDragging'\nimport onDropOut       from './onDropOut'\n\nconst hooks = {\n              onDrop\n            , onStartDragging\n            , onDropOut\n        }\n\n\n\nexport default hooks\n\n\n","/**\n * @type {Object} DropParams\n * @description The parameters passed to the hook 'onDrop'.\n * @property {Object} event - The event object.\n * @property {Object} dropZone - The drop zone element.\n * @property {HTMLElement} dragged - The dragged element.\n * @property {Array} selection - The dragged elements.\n * @property {Array} log - The log array.\n * @property {Object} dragOffset - Position of the drag start - {x,y}.\n */\n\n/**\n * @function onDrop\n * @description Executes when the user drops the dragged elements on a drop zone.\n * @param {DropParams} data - The data object passed to the hook 'onDrop'.\n * @returns { void }\n */\nfunction onDrop ({ event, dropZone, dragged, selection, log, dragOffset }) {\n        // Move dragged DOM elements to the selected drop target\n        if ( !dropZone )   return\n        selection.forEach ( el => {\n                        el.parentNode.removeChild ( el )\n                        dropZone.appendChild ( el )\n                })\n        dragged.style = ''\n} // onDrop func.\n\n\n\nexport default onDrop\n\n\n","function onStartDragging ({event, selection, draggedTransperency, selectStyle }) {\n            selection.forEach ( el => { \n                                    el.style.opacity = draggedTransperency\n                                    el.classList.add ( selectStyle )\n                        })\n    } // onStartDragging func.\n\n\n\nexport default onStartDragging\n\n\n","'use strict'\n/**\n * @type {Object} LogData\n * @description The data object contains drag and drop information.\n * @property {HTMLElement} source - The source container element.\n * @property {HTMLElement|Boolean} target - The target container element. If the drop is outside of a container, the value is false.\n * @property {HTMLElement} el - The dragged element.\n * @property {Function} sourceList - Returns the list of selected elements.\n */\n\n\n\n/**\n * @type {Object} DropOutParams\n * @description The parameters passed to the hook 'onDropOut'.\n * @property {DragEvent} event - The browser 'DragEvent'event object.\n * @property {Boolean} dropZone - Constant equal to false in this hook;\n * @property {HTMLElement} dragged - The dragged element.\n * @property {Array<HTMLElement>} selection - The dragged elements.\n * @property {LogData} log - The log object.\n * @property {Object} dragOffset - Position of the drag start - {x,y}.\n */\n\n\n\n/**\n *  @function onDropOut\n *  @description Executes when the user drops the dragged elements outside of a drop zone.\n *  @param {DropOutParams} data - The data object with named arguments.\n *  @returns { void }\n */\nfunction onDropOut ({event, dropZone, dragged, selection, log, dragOffset }) {\n        // Drop outside of container\n        console.log ( 'DROP OUT' )\n} // onDropOut func.\n\n\n\nexport default onDropOut\n\n\n","const table = [\n    // [ state     , action         , nextState   , functionName    , chainAction(optional)]\n      [ 'none'     , 'start'        , 'wait'      , 'setConfig' ,    [ 'start', false ]  ]\n    , [ 'wait'     , 'start'        , 'ready'     , 'start'                             ]\n\n    // Selecting\n    , [ 'ready'    , 'addItem'      , 'ready'     , 'addSingleItem'     ]\n    , [ 'ready'    , 'newSelection' , 'ready'     , 'replaceSelection'  ]\n    , [ 'ready'    , 'removeItem'   , 'ready'     , 'removeSingleItem'  ]\n    , [ 'ready'    , 'select'       , 'inSelect'  , 'startSelection'    ]\n    , [ 'inSelect' , 'move'         , 'inSelect'  , 'changeSelection'   ]\n    , [ 'inSelect' , 'end'          , 'ready'     , 'endSelection'      ]\n    \n    // Draging\n    , [ 'ready'    , 'drag'        , 'inDrag'     , 'startDragging'   ]\n    , [ 'inDrag'   , 'end'         , 'ready'      , 'endDragging'     ]\n    , [ 'inDrag'   , 'move'        , 'inDrag'     , 'changeDragZone'  ]\n    , [ 'inDrag'   , 'drop'        , 'inDrag'     , 'drop'            ]   \n    \n    // Mute for a while\n    , [ 'ready'   , 'disable'      , 'off'        , 'disable'     ]\n    , [ 'off'     , 'enable'       , 'ready'      , 'enable'      ]\n    \n    // Others\n    , [ 'off'     , 'changeConfig'  , 'off'        , 'setConfig'    ]\n    , [ 'ready'   , 'changeConfig'  , 'ready'      , 'setConfig'    ]\n    , [ 'ready'   , 'destroy'      , 'end'        , 'destroy'     ]\n    , [ 'off'     , 'destroy'      , 'end'        , 'destroy'     ]\n];\n\n\nconst logic = {\n                   init : 'none'\n                 , behavior : table\n                 , stateData : {\n                                  dropStyle            : 'dropzone'   // CSS class name for drop zone\n                                , selectStyle          : 'dd-select'  // CSS class name for selected drag elements\n                                , filter                : false        // CSS class name for selectable drag elements.\n                                , draggedTransperency  : 0.5          // Transperency of dragged DOM element\n                                , selection            : []           // Selected DOM elements\n                                , dragged              : null         // Dragged element. Could be one or many\n                                , activeDropZone       : null         // Active drop zone DOM element\n                                , activeZoneStyle      : 'actZone'    // Active drop zone style name\n                                , selectDraw           : null         // DOM node for showing selection\n                                , mouseSelection       : false        // Selection mode flag\n                                , hasDrop              : false        // Flag[boolean]. It's true when registered drop event.\n                                , dragOffset           : null         // Values: Null or object with {x,y} coordinates or of the drag click. Can be used in 'onDrop' function for precise positioning.\n\n                                , startX : 0\n                                , startY : 0\n                                , newX   : false\n                                , newY   : false\n                        }\n        }\n\n\n\nexport default logic\n\n\n","import start from './start'\nimport { startSelection   } from './startSelection'\nimport { changeSelection  } from './changeSelection'\nimport { endSelection     } from './endSelection'\nimport { addSingleItem    } from './addSingleItem'\nimport { removeSingleItem } from './removeSingleItem'\nimport { replaceSelection } from './replaceSelection'\n\nimport { startDragging    } from './startDragging'\nimport { changeDragZone   } from './changeDragZone'\nimport { endDragging      } from './endDragging'\nimport { drop             } from './drop'\n\nimport { destroy          } from './destory'\nimport { setConfig         } from './setConfig'\nimport { disable          } from './disable'\nimport { enable           } from './enable'\n\n\n\nconst tranistions = {\n                          start\n                        , startSelection\n                        , changeSelection\n                        , endSelection\n                        , addSingleItem\n                        , removeSingleItem\n                        , replaceSelection\n\n                        , startDragging\n                        , changeDragZone\n                        , endDragging\n                        , drop\n\n                        , destroy\n                        , setConfig\n                        , disable\n                        , enable\n                }\n\n\n\nexport default tranistions\n\n\n","function start ({ task, dependencies}, data ) {\n    // *** Register all events needed\n    let { eFn } = dependencies;\n    \n    document.addEventListener ( 'mousedown', eFn.mouseDown )\n    document.addEventListener ( 'mousemove', eFn.mouseMove )\n    document.addEventListener ( 'mouseup'  , eFn.mouseUp   )\n\n    document.addEventListener ( 'dragstart' , eFn.dragStart )\n    document.addEventListener ( 'dragend'   , eFn.dragEnd   )\n    document.addEventListener ( 'dragover'  , eFn.dragOver  )\n    document.addEventListener ( 'dragenter' , eFn.dragEnter )\n    document.addEventListener ( 'drop'      , eFn.drop      )\n\n    task.done ({ \n                      success  : true \n                    , response : data\n            })\n} // start func.\n\n\n\nexport default start\n\n\n","function startSelection ({ task, dependencies, extractList}, data ) {\n    const \n          { event } = data\n        , { fn    } = dependencies\n        , [ selectDraw ] = extractList ([ 'selectDraw' ])\n        , st = {}\n        ;\n    event.preventDefault ()\n    st.selectDraw = fn.drawSelection ( event, selectDraw )\n    st.mouseSelection = true\n    st.startX = event.clientX\n    st.startY = event.clientY\n\n    task.done ({\n                      success : true\n                    , stateData : st\n                })\n} // startSelection func.\n\n\n\nexport { startSelection }\n\n\n","function changeSelection ({task, dependencies, extractList}, data ) {\n    let\n          { event } = data\n        , { fn } = dependencies\n        , [ mouseSelection, selectDraw, startX, startY ] = extractList(['mouseSelection', 'selectDraw', 'startX', 'startY'])\n        ;\n    if ( !mouseSelection ) {  \n                    task.done ({ success: false })\n                    return\n        }\n\n    event.preventDefault ()\n    let \n        newX = event.clientX\n      , newY = event.clientY\n      ;\n\n    fn.updateSelection ( fn.minMax({startX,startY,newX,newY}), selectDraw )\n    task.done ({\n                      success : true\n                    , stateData : { newX, newY }\n            })\n\n} // changeSelection func.\n\n\n\nexport { changeSelection }\n\n\n","function endSelection ({task, dependencies, extractList}, data ) {\n    let \n          { event } = data\n        , { fn    } = dependencies\n        , [ \n              prevSelection\n            , startX\n            , startY\n            , newX\n            , newY\n            , selectDraw\n            , selectStyle\n            , filter \n                ] = extractList ([\n                                  'selection'\n                                , 'startX'\n                                ,'startY'\n                                ,'newX'\n                                ,'newY'\n                                ,'selectDraw'\n                                ,'selectStyle'\n                                ,'filter'\n                            ])\n        , selectionType = 'new'   // Types: new | expand | reduce \n        , selection = []\n        ;\n\n        event.preventDefault ()\n        selectDraw.style.visibility = 'hidden'\n\n        if ( !newX ) {   // No selection ( newX == false )\n                        prevSelection.forEach ( el => el.classList.remove ( selectStyle )   )\n                        selection = []\n                        task.done ({\n                                       success : true\n                                     , stateData : { selection }\n                                })\n                        return\n                } // !newX\n        \n        if ( event.altKey               )   selectionType = 'reduce'\n        if ( event.shiftKey             )   selectionType = 'expand'\n        if ( selectionType !== 'expand' )   prevSelection.forEach ( el => {\n                                                            el.classList.remove ( selectStyle )\n                                                    })\n        \n        let { xMin, xMax, yMin, yMax } = fn.minMax ({ startX, startY, newX, newY })\n        \n        \n        let \n              dragNodes = document.querySelectorAll ( '[draggable]' )\n            , list = []\n            ;\n\n        if ( filter ) {\n                    dragNodes.forEach ( el => {\n                                    if ( el.classList.contains(filter) )   list.push ( el )\n                            })\n            }\n        else        dragNodes.forEach ( el => list.push(el)   )\n        \n        list.forEach ( el => {\n                            let check = true;\n                            if ( check )   check = el.offsetLeft > xMin\n                            if ( check )   check = el.offsetTop > yMin\n\n                            if ( check ) {\n                                    let lastX = el.offsetLeft + el.clientWidth;\n                                    check = lastX < xMax\n                                }\n                            if ( check ) {\n                                    let lastY = el.offsetTop + el.clientHeight;\n                                    check = lastY < yMax\n                                }\n                            if ( check )   selection.push ( el )\n                })\n        \n        switch ( selectionType ) {\n                case 'new' :\n                            selection = selection.map ( el => {\n                                                            el.classList.add (selectStyle)  \n                                                            return el\n                                                        })\n                            break\n                case 'expand':\n                            selection = selection.reduce ((res,el) => {\n                                                                    if ( !res.includes(el) ) {  \n                                                                                    res.push ( el )\n                                                                                    el.classList.add ( selectStyle )\n                                                                        }\n                                                                    return res\n                                                            } , selection )\n                            break\n                case 'reduce':\n                            selection = selection.reduce ( (res,el) => {\n                                                                    if ( !selection.includes(el) ) {  \n                                                                                    res.push ( el )\n                                                                                    el.classList.add ( selectStyle )\n                                                                        }\n                                                                    return res\n                                                             },[])\n                            break\n            } // switch selectionType\n\n        const mouseSelection = false;\n        newX   = false\n        newY   = false\n\n        task.done ({\n                          success : true\n                        , stateData : { selection, mouseSelection, newX, newY }\n                })\n} // endSelection func.\n\n\n\nexport { endSelection }\n\n\n","function addSingleItem ( {task, extractList}, data ) {\n        let \n              { event } = data\n            , target = event.target\n            , [ selection, selectStyle, filter ] = extractList (['selection', 'selectStyle', 'filter'])\n            , listHasTarget = selection.includes ( target )\n            , validNode = true\n            ;\n        if ( filter )   validNode = target.classList.contains ( filter )\n        if ( !listHasTarget && validNode ) {  \n                selection.push ( target )\n                target.classList.add ( selectStyle )\n            }\n        task.done ({\n                          success : true\n                        , stateData : { selection }\n                })\n} // addSingleItem func.\n\n\n\nexport { addSingleItem }\n\n\n","function removeSingleItem ( {task, extractList}, data ) {\n        let \n              { event } = data\n            , target = event.target\n            , [ selection, selectStyle ] = extractList ([ selection, selectStyle ])\n            ;\n        selection = selection.reduce ( (res,el) => {\n                                if ( el != target )   res.push ( el )\n                                else    el.classList.remove ( selectStyle )\n                                return res\n                        },[])\n        task.done ({\n                          success : true\n                        , stateData : { selection }\n                })\n} // removeSingleItem func.\n\n\n\nexport { removeSingleItem }\n\n\n","function replaceSelection ( { task, extractList}, data ) {\n        let \n              { event } = data\n            , [ selectStyle, filter, selection ] = extractList ([ 'selectStyle', 'filter', 'selection' ])\n            , target = event.target\n            , validNode = true\n            ;\n\n        if ( filter )   validNode = target.classList.contains ( filter )\n        if ( !validNode ) {\n                    task.done ({ success : false })\n                    return\n            }\n\n        selection.forEach ( el => el.classList.remove ( selectStyle ) )\n        target.classList.add ( selectStyle )\n        selection = [ target ]\n        task.done ({\n                          success : true\n                        , stateData : { selection }\n                })\n} // replaceSelection func.\n\n\n\nexport { replaceSelection }\n\n\n","function startDragging ( {task, dependencies, extractList}, data ) {\n        let \n              { event  } = data\n            , { target } = event\n            , [ \n                  draggedTransperency\n                , selection\n                , selectStyle\n                , dropStyle\n                , filter\n              ] = extractList ([\n                                  'draggedTransperency'\n                                , 'selection'\n                                , 'selectStyle'\n                                , 'dropStyle'\n                                , 'filter'\n                          ])\n            , { hooks, fn, deps } = dependencies\n            , validTarget = true\n            , st = {}\n            ;\n\n        if ( filter )   validTarget = target.classList.contains ( filter )\n        if ( !validTarget ) {\n                task.done ({ success: false })\n                return\n            }\n\n        if ( selection.length === 0 )   selection = [ target ]\n        hooks.onStartDragging ({ event, selection, draggedTransperency, selectStyle, dependencies:deps })\n\n        st.dragged        = target\n        st.dragOffset     = { \n                                         x : event.offsetX\n                                        ,y : event.offsetY\n                                    }\n        st.selection      = selection\n        st.activeDropZone = fn.findDropZone ( target, dropStyle )\n        task.done ({\n                          success : true\n                        , stateData : st\n                })\n} // startDragging func.\n\n\n\nexport { startDragging }\n\n\n","function changeDragZone ( {task, dependencies, extractList}, data ) {\n    let \n          { event } = data\n        , { fn    } = dependencies\n        , [\n              oldDropZone\n            , dragged\n            , activeZoneStyle\n            , dropStyle \n          ] = extractList ([\n                              'activeDropZone'\n                            , 'dragged'\n                            , 'activeZoneStyle'\n                            , 'dropStyle' \n            ])\n        , actZone = false\n        ;\n        \n    if ( dragged.parentNode === event.target.parentNode ) {  \n                        task.done ({ success : true })                    \n                        return\n        }\n    actZone = fn.findDropZone ( event.target, dropStyle )\n    if ( !actZone ) {\n                    task.done ({ success : false })\n                    return\n        }\n    if ( actZone ) {\n                    if ( oldDropZone )   oldDropZone.classList.remove ( activeZoneStyle )\n                    actZone.classList.add ( activeZoneStyle )\n                    task.done ({\n                                  success : true\n                                , stateData : {\n                                                    activeDropZone : actZone\n                                            }\n                            })\n                    return\n        }\n    task.done ({ success : false })\n} // changeDragZone func.\n\n\n\nexport { changeDragZone }\n\n\n","function endDragging ( {task, dependencies, extractList}, data ) {\n    let\n          { hooks, fn, deps } = dependencies\n        , [\n                activeDropZone\n              , activeZoneStyle\n              , dragged\n              , selection\n              , selectStyle\n              , hasDrop\n          ] = extractList ([\n                                  'activeDropZone'\n                                , 'activeZoneStyle'\n                                , 'dragged'\n                                , 'selection'\n                                , 'selectStyle'\n                                , 'hasDrop'\n                                , 'dependencies'\n                      ])\n        , { event } = data \n        , log = []\n        ;\n        \n    if ( !hasDrop ) {\n                let dropZone = false;\n                selection.forEach ( el => {\n                            let \n                                sourceList = fn.targetList ( el.parentNode )\n                              , item = {\n                                            source : el.parentNode\n                                          , target : false\n                                          , el\n                                          , sourceList  // it's a function\n                                      }\n                              ;\n                            log.push ( item )\n                    })\n              hooks.onDropOut ({event, dropZone, dragged, selection, log, dependencies:deps })\n        }\n    if ( activeDropZone )   activeDropZone.classList.remove ( activeZoneStyle )\n    selection.forEach ( el => {\n                            el.classList.remove ( selectStyle )\n                            el.style.opacity = ''\n                            if ( !el.style[0] )   el.removeAttribute ( 'style' )\n                })\n\n    activeDropZone = null\n    selection      = []\n    hasDrop        = false\n    \n    task.done ({ \n                      success : true\n                    , stateData : { activeDropZone, selection, hasDrop }\n            })\n} // endDragging func.\n\n\n\nexport { endDragging }\n\n\n","function drop ( {task, dependencies, extractList}, data ) {\n    let \n          { event } = data\n        , [ activeDropZone, dragged, selection, dropStyle, dragOffset ] = extractList(['activeDropZone', 'dragged', 'selection', 'dropStyle', 'dragOffset'])\n        , { hooks, fn, deps } = dependencies\n        , log   = []\n        , targetList = fn.targetList ( event.target )\n        , dropZone = fn.findDropZone ( event.target, dropStyle)\n        , hasDrop = false\n        ;\n    event.preventDefault ()\n    if ( dropZone == activeDropZone ) {\n                selection.forEach ( el => {\n                              let \n                                  sourceList = fn.targetList ( el.parentNode )\n                                , item = {\n                                              source : el.parentNode\n                                            , target : dropZone\n                                            , el\n                                            , targetList  // it's a function\n                                            , sourceList  // it's a function\n                                        }\n                                ;\n                              log.push ( item )\n                      })\n                hooks.onDrop ({ event, dropZone, dragged, selection, log, dragOffset, dependencies:deps })\n                hasDrop = true\n        }\n    \n    dragOffset = null\n    task.done ({\n                      success : true\n                    , stateData : { hasDrop, dragOffset }\n            })\n} // drop func.\n\n\n\n\n\n\n\nexport { drop }\n\n\n","function destroy ({task, dependencies}) {\n        let  { eFn } = dependencies;\n        document.removeEventListener ( 'mousedown', eFn.mouseDown )\n        document.removeEventListener ( 'mousemove', eFn.mouseMove )\n        document.removeEventListener ( 'mouseup'  , eFn.mouseUp   )\n\n        document.removeEventListener ( 'dragstart' , eFn.dragStart )\n        document.removeEventListener ( 'dragend'   , eFn.dragEnd   )\n        document.removeEventListener ( 'dragover'  , eFn.dragOver  )\n        document.removeEventListener ( 'dragenter' , eFn.dragEnter )\n        document.removeEventListener ( 'drop'      , eFn.drop      )\n        task.done ({ success : true })\n} // destroy func.\n\n\n\nexport { destroy }\n\n\n","function setConfig ( {task}, data={} ) {\n    let { hooks, config }= data;\n    let st = {}\n\n    if ( !hooks )   hooks = {}\n    if ( !config )   config = {}\n\n    if ( config.onStartDragging )   hooks.onStartDragging = config.onStartDragging\n    if ( config.onDrop          )   hooks.onDrop          = config.onDrop\n    if ( config.onDropOut       )   hooks.onDropOut       = config.onDropOut\n\n    if ( config.dropStyle       && (typeof config.dropStyle === 'string')               )   st.dropStyle           = config.dropStyle\n    if ( config.draggedTransperency && (typeof config.draggedTransperency === 'number') )   st.draggedTransperency = config.draggedTransperency\n    if ( config.activeZoneStyle && (typeof config.activeZoneStyle === 'string')         )   st.activeZoneStyle     = config.activeZoneStyle\n    if ( config.selectStyle     && (typeof config.selectStyle === 'string')             )   st.selectStyle         = config.selectStyle\n    if ( config.filter           && (typeof config.filter === 'string')                   )   st.filter               = config.filter\n    \n    if ( config.dependencies   )   st.dependencies = config.dependencies\n    else                          st.dependencies = {}\n\n    task.done ({ \n                  success : true \n                , stateData: st\n                , response : hooks\n            })\n} // setConfig func.\n\n\n\nexport { setConfig }\n\n\n","function disable ( {task}) {\n    task.done ({ success : true })\n} // disable func.\n\n\n\nexport { disable }\n\n\n","function enable ( {task}) {\n    task.don ({ success : true })\n} // enable func.\n\n\n\nexport { enable }\n\n\n","'use strict'\n\nimport Fsm from '@peter.naydenov/fsm'                // Finite state machine. url: https://github.com/PeterNaydenov/fsm\n\nimport fn from './fn/index'                           // Helper functions;\nimport hooks from './hooks/index'                     // Hook functions;\nimport logic from './logic'                           // Fsm logic and state vars;\nimport transitions from './transitions/index'         // Fsm transition library\nimport getEventFunctions from './fn/onEvent';         // Functions registered on events\n\n\n\nfunction dragDrop ( config={} ) {\nconst \n      dragMachine = new Fsm ( logic, transitions )\n    , eFn         = getEventFunctions ( dragMachine, config.ignoreSelect )\n    ;\n    \n    window.dd = dragMachine  // TODO: remove \n\n    dragMachine.setDependencies ({ 'deps': config.dependencies })    \n    dragMachine.setDependencies ({ eFn, fn })\n    \n    return dragMachine.update ( 'start', { config, hooks } )\n               .then ( hooks => dragMachine.setDependencies ({ hooks })    )\n               .then ( () => ({\n                                  changeConfig : config => {\n                                                        dragMachine.update ( 'changeConfig', {hooks,config} )\n                                                                   .then   ( hooks => dragMachine.setDependencies({hooks})   )\n                                                    }\n                                , destroy     : ()    => dragMachine.update ( 'destroy' )\n                                , disable     : ()    => dragMachine.update ( 'disable' )\n                                , enable      : ()    => dragMachine.update ( 'enable'  )\n                            }))\n} // dragDrop func.\n\n\n\nexport default dragDrop\n\n\n\n\n\n\n// function yok () { console.log ( 'injected' )}\n\n// const cfg = {\n//             ignoreSelect ( e ) {\n//                         const tg = e.target;\n//                         if (!tg.classList.contains ( 'dropzone' ))   return true\n//                         else         return false\n//                 }\n//           , onDropOut ({ dependencies, event, dragged, selection, log, dragOffset, dropZone }) {\n//                         console.log ( 'YES drop out' )\n//                         dependencies.yok ()\n//                 }\n//           , dependencies : {\n//                                 yok\n//                         }\n//         }\n// dragDrop (cfg)\n//  .then ( x => {\n//         dd.on ( 'transition', (s,m) => {\n//                 console.log ( s,m )\n//         })\n//  })\n\n\n"],"names":["e","o","r","map","n","promise","promises","onComplete","t","Promise","all","timeout","i","u","setTimeout","resolve","then","clearTimeout","race","done","cancel","nodeType","Array","a","c","s","Object","keys","forEach","l","f","b","y","p","isNaN","k","Symbol","value","key","breadcrumbs","IGNORE","push","data","keyCallback","objectCallback","next","convert","isDTO","isDTM","walk","export","copy","from","toFlat","console","warn","RegExp","replace","insert","getCopy","draft","INIT_DATA_TYPES","main","load","set","connect","save","arguments","as","d","length","h","includes","m","error","to","resetScan","this","setupFilter","flatData","insertSegment","model","query","listSegments","getIndexes","reduce","index","getLine","extractList","Error","hasOwnProperty","match","setupScanList","getScanList","every","name","links","finish","entries","empty","_","g","$","E","list","listObject","object","root","j","edges","v","getFilters","O","use","get","find","like","look","sequence","at","reverse","split","pop","join","startsWith","values","sort","T","concat","I","Set","tagName","toLowerCase","has","add","S","A","F","dependencies","flatObject","init","assign","flating","converting","getWalk","w","N","L","x","D","H","flat","_setTransitions","transitions","nextState","chainActions","_updateStateData","dtbox","stateData","splitSegments","updateState","_updateStep","askForPromise","state","callback","lock","_transit","_getChain","response","success","positive","transition","negative","catch","log","_warn","api","task","_triggerCacheUpdate","cache","updateTask","action","dt","_onUpdateTask","update","setDependencies","getDependencies","on","off","importState","exportState","joinSegments","reset","initialState","initialStateData","ignoreCachedUpdates","getState","stateDataFormat","behavior","debug","global","debugFSM","getEventFunctions","dragDrop","ignoreSelect","mouseDown","event","target","draggable","mouseUp","altKey","shiftKey","mouseMove","dragStart","dragEnd","dragOver","preventDefault","dragEnter","drop","fn","minMax","startX","startY","newX","newY","xMin","Math","min","xMax","max","yMin","yMax","updateSelection","coordinates","node","style","left","top","width","height","drawSelection","selectDraw","draw","visibility","document","createElement","position","border","getElementsByTagName","appendChild","clientX","clientY","targetList","container","querySelectorAll","selection","el","parentNode","findDropZone","dropStyle","classList","contains","hooks","onDrop","dropZone","dragged","dragOffset","removeChild","onStartDragging","draggedTransperency","selectStyle","opacity","onDropOut","logic","filter","activeDropZone","activeZoneStyle","mouseSelection","hasDrop","tranistions","start","eFn","addEventListener","startSelection","st","changeSelection","endSelection","prevSelection","selectionType","remove","dragNodes","check","offsetLeft","offsetTop","clientWidth","clientHeight","res","addSingleItem","listHasTarget","validNode","removeSingleItem","replaceSelection","startDragging","deps","validTarget","offsetX","offsetY","changeDragZone","oldDropZone","actZone","endDragging","sourceList","item","source","removeAttribute","destroy","removeEventListener","setConfig","config","disable","enable","don","dragMachine","Fsm","window","dd","changeConfig"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}